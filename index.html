<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CSS MPT Daily Quiz</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <style>
        /* Custom CSS for animations and specific styles not easily covered by Tailwind */
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;700&display=swap');

        body {
            font-family: 'Inter', sans-serif;
            background-color: #F8F9FA; /* Background color */
            color: #2C3E50; /* Default text color */
            overflow-x: hidden; /* Prevent horizontal scrolling */
        }

        .text-primary {
            color: #2C3E50;
        }

        .date-color {
            color: #6D6875;
        }

        .gradient-button {
            background-image: linear-gradient(to right, #E6E6FA, #FFDAB9);
            transition: transform 0.2s ease-in-out, box-shadow 0.2s ease-in-out;
        }

        .gradient-button:hover {
            transform: scale(1.05);
            box-shadow: 0 8px 16px rgba(0, 0, 0, 0.2);
        }

        .option-card {
            transition: transform 0.2s ease-in-out, background-color 0.3s ease-in-out;
        }

        .option-card:hover {
            transform: scale(1.05);
        }

        /* Pulse animation for correct answer */
        @keyframes pulse-green {
            0% { box-shadow: 0 0 0 0 rgba(144, 238, 144, 0.7); }
            70% { box-shadow: 0 0 0 10px rgba(144, 238, 144, 0); }
            100% { box-shadow: 0 0 0 0 rgba(144, 238, 144, 0); }
        }

        .pulse-green {
            animation: pulse-green 0.6s ease-out;
            background-color: #90EE90; /* Light Green */
        }

        /* Shake animation for wrong answer */
        @keyframes shake {
            0%, 100% { transform: translateX(0); }
            10%, 30%, 50%, 70%, 90% { transform: translateX(-5px); }
            20%, 40%, 60%, 80% { transform: translateX(5px); }
        }

        .shake-red {
            animation: shake 0.5s cubic-bezier(.36,.07,.19,.97) both;
            background-color: #FF6B6B; /* Red */
        }

        /* Progress bar animation */
        .progress-bar-inner {
            background-image: linear-gradient(to right, #20B2AA, #3EB489);
            transition: width 0.5s ease-in-out;
        }

        /* Sticky date positioning for desktop */
        .sticky-date {
            position: sticky;
            top: 1rem;
            z-index: 10;
        }

        /* Responsive adjustments for sticky date */
        @media (min-width: 768px) {
            .sticky-date {
                right: 1rem;
                left: auto;
            }
        }

        @media (max-width: 767px) {
            .sticky-date {
                left: 1rem;
                right: auto;
            }
        }

        /* Hide elements for security */
        .no-select {
            -webkit-touch-callout: none; /* iOS Safari */
            -webkit-user-select: none; /* Safari */
            -khtml-user-select: none; /* Konqueror HTML */
            -moz-user-select: none; /* Old versions of Firefox */
            -ms-user-select: none; /* Internet Explorer/Edge */
            user-select: none; /* Non-prefixed version, currently supported by Chrome, Edge, Opera and Firefox */
        }

        /* Modal styling */
        .modal {
            display: none; /* Hidden by default */
            position: fixed; /* Stay in place */
            z-index: 100; /* Sit on top */
            left: 0;
            top: 0;
            width: 100%; /* Full width */
            height: 100%; /* Full height */
            overflow: auto; /* Enable scroll if needed */
            background-color: rgba(0,0,0,0.4); /* Black w/ opacity */
            justify-content: center;
            align-items: center;
        }

        .modal-content {
            background-color: #fefefe;
            margin: auto;
            padding: 20px;
            border: 1px solid #888;
            width: 80%;
            max-width: 500px;
            border-radius: 10px;
            box-shadow: 0 4px 8px rgba(0,0,0,0.2);
            text-align: center;
        }

        .close-button {
            color: #aaa;
            float: right;
            font-size: 28px;
            font-weight: bold;
        }

        .close-button:hover,
        .close-button:focus {
            color: black;
            text-decoration: none;
            cursor: pointer;
        }
    </style>
</head>
<body class="no-select" oncontextmenu="return false;">

    <div id="login-page" class="min-h-screen flex items-center justify-center bg-[#F8F9FA] p-4">
        <div class="bg-white p-8 rounded-xl shadow-lg w-full max-w-md border border-[#FFF5EE]">
            <h2 class="text-3xl font-bold text-center text-primary mb-6">Quiz Login</h2>
            <div class="mb-4">
                <label for="username" class="block text-primary text-sm font-bold mb-2">Username:</label>
                <input type="text" id="username" class="shadow appearance-none border rounded-lg w-full py-3 px-4 text-primary leading-tight focus:outline-none focus:shadow-outline bg-gray-100" placeholder="Enter username">
            </div>
            <div class="mb-6">
                <label for="password" class="block text-primary text-sm font-bold mb-2">Password:</label>
                <input type="password" id="password" class="shadow appearance-none border rounded-lg w-full py-3 px-4 text-primary leading-tight focus:outline-none focus:shadow-outline bg-gray-100" placeholder="Enter password">
            </div>
            <button id="login-button" class="gradient-button text-white font-bold py-3 px-6 rounded-lg w-full focus:outline-none focus:shadow-outline">Login</button>
            <p id="login-error" class="text-red-500 text-center mt-4 hidden">Invalid username or password.</p>
        </div>
    </div>

    <div id="candidate-info-page" class="min-h-screen flex items-center justify-center bg-[#F8F9FA] p-4 hidden">
        <div class="bg-white p-8 rounded-xl shadow-lg w-full max-w-md border border-[#FFF5EE]">
            <h2 class="text-3xl font-bold text-center text-primary mb-6">Candidate Information</h2>
            <div class="mb-6">
                <label for="full-name" class="block text-primary text-sm font-bold mb-2">Full Name:</label>
                <input type="text" id="full-name" class="shadow appearance-none border rounded-lg w-full py-3 px-4 text-primary leading-tight focus:outline-none focus:shadow-outline bg-gray-100" placeholder="Enter your full name">
            </div>
            <button id="start-quiz-button" class="gradient-button text-white font-bold py-3 px-6 rounded-lg w-full focus:outline-none focus:shadow-outline">Start Quiz</button>
            <p id="name-error" class="text-red-500 text-center mt-4 hidden">Please enter your full name.</p>
        </div>
    </div>

    <div id="quiz-page" class="min-h-screen bg-[#F8F9FA] p-4 md:p-8 hidden">
        <div class="relative mb-6">
            <div id="live-date" class="sticky-date text-sm font-semibold date-color p-2 rounded-lg bg-white shadow-md flex items-center justify-end md:justify-start">
                <i class="far fa-calendar-alt mr-2"></i>
                <span></span>
            </div>
            <h1 class="text-4xl font-bold text-center text-primary mt-4 mb-4">CSS MPT Daily Quiz – <span id="quiz-date-title"></span></h1>

            <div class="w-full bg-gray-200 rounded-full h-4 mb-4 overflow-hidden shadow-inner">
                <div id="progress-bar" class="progress-bar-inner h-full rounded-full text-xs text-white flex items-center justify-center" style="width: 0%;">
                    <span id="progress-text">0%</span>
                </div>
            </div>

            <div class="w-full rounded-xl overflow-hidden shadow-lg mb-4">
                <img src="https://i.ibb.co/tMYHtj6n/480709804-2211254089269599-2819007219717277160-n.jpg" alt="Quiz Banner" class="w-full h-auto object-cover rounded-xl">
            </div>

            <div class="text-center text-primary text-sm md:text-base font-bold mb-6">
                <p>DAWNDIGEST</p>
                <p>PREPARED BY: SYED ASGHAR ALI SHAH Contact: 03265762698</p>
                <p>Updated on: <span id="updated-date"></span></p>
            </div>

            <div class="text-center text-lg font-bold text-primary mb-6">
                Time Remaining: <span id="timer">40:00</span>
            </div>
        </div>

        <div id="quiz-container" class="grid grid-cols-1 md:grid-cols-1 gap-6">
            <div id="question-card" class="bg-white p-6 rounded-xl shadow-lg border border-[#FFF5EE]">
                <p class="text-lg font-semibold mb-4 text-primary"><span id="question-number"></span>. <span id="question-text"></span></p>
                <div id="options-container" class="grid grid-cols-1 gap-3">
                    </div>
                <div id="explanation-container" class="mt-4 p-3 rounded-lg bg-gray-100 text-sm italic text-primary hidden">
                    <p id="explanation-text"></p>
                </div>
            </div>

            <div class="flex justify-between mt-6">
                <button id="prev-button" class="gradient-button text-white font-bold py-3 px-6 rounded-lg opacity-50 cursor-not-allowed" disabled>Previous</button>
                <button id="next-button" class="gradient-button text-white font-bold py-3 px-6 rounded-lg">Next</button>
            </div>
        </div>
    </div>

    <div id="results-page" class="min-h-screen flex items-center justify-center bg-[#F8F9FA] p-4 hidden">
        <div class="bg-white p-8 rounded-xl shadow-lg w-full max-w-md border border-[#FFF5EE] text-primary">
            <h2 class="text-3xl font-bold text-center mb-6">Quiz Results</h2>
            <p class="text-lg mb-2"><strong>Candidate Name:</strong> <span id="result-name"></span></p>
            <p class="text-lg mb-2"><strong>Total Score:</strong> <span id="result-score"></span> / 100</p>
            <p class="text-lg mb-2"><strong>Time Taken:</strong> <span id="result-time"></span></p>
            <p class="text-lg mb-4"><strong>Questions Attempted:</strong> <span id="result-attempted"></span></p>
            <button id="retake-quiz-button" class="gradient-button text-white font-bold py-3 px-6 rounded-lg w-full focus:outline-none focus:shadow-outline">Retake Quiz</button>
        </div>
    </div>

    <div id="custom-modal" class="modal">
        <div class="modal-content">
            <span class="close-button">&times;</span>
            <p id="modal-message" class="text-lg text-primary"></p>
            <button id="modal-ok-button" class="gradient-button text-white font-bold py-2 px-4 rounded-lg mt-4 hidden">OK</button>
            <button id="modal-cancel-button" class="gradient-button text-white font-bold py-2 px-4 rounded-lg mt-4 ml-2 hidden">Cancel</button>
        </div>
    </div>

    <script>
        // Disable right-click, copy/paste, and developer tools
        document.addEventListener('contextmenu', event => event.preventDefault());
        document.addEventListener('keydown', event => {
            if (event.key === 'F12' ||
                (event.ctrlKey && event.shiftKey && event.key === 'I') ||
                (event.ctrlKey && event.key === 'u') ||
                (event.ctrlKey && event.key === 'U') ||
                (event.ctrlKey && event.key === 'c') ||
                (event.ctrlKey && event.key === 'C') ||
                (event.ctrlKey && event.key === 'v') ||
                (event.ctrlKey && event.key === 'V')
            ) {
                event.preventDefault();
            }
        });

        // Custom Modal Functions
        function showModal(message, type = 'alert', onConfirm = null) {
            const modal = document.getElementById('custom-modal');
            const modalMessage = document.getElementById('modal-message');
            const okButton = document.getElementById('modal-ok-button');
            const cancelButton = document.getElementById('modal-cancel-button');
            const closeButton = document.querySelector('#custom-modal .close-button');

            modalMessage.textContent = message;
            okButton.onclick = () => {
                modal.style.display = 'none';
                if (type === 'confirm' && onConfirm) {
                    onConfirm(true);
                }
            };
            cancelButton.onclick = () => {
                modal.style.display = 'none';
                if (type === 'confirm' && onConfirm) {
                    onConfirm(false);
                }
            };
            closeButton.onclick = () => modal.style.display = 'none';

            if (type === 'alert') {
                okButton.style.display = 'inline-block';
                cancelButton.style.display = 'none';
            } else if (type === 'confirm') {
                okButton.style.display = 'inline-block';
                cancelButton.style.display = 'inline-block';
            }
            modal.style.display = 'flex'; // Use flex to center
        }


        // Quiz Data and State
        let currentQuestionIndex = 0;
        let score = 0;
        let questionsAttempted = 0;
        let timerInterval;
        const quizDuration = 40 * 60; // 40 minutes in seconds
        let timeElapsed = 0;
        let userName = '';
        let quizStartTime;
        let quizCompleted = false;

        // Store answers
        const userAnswers = {}; // { questionIndex: selectedOptionIndex }

        // Curated MCQs - 100 questions (10 Easy, 50 Medium, 40 Tough)
        // Note: Difficulty is a subjective categorization by the LLM based on perceived complexity.
        // Explanations are simplified for brevity and clarity.
        const allQuizQuestions = [
            // General Knowledge (Changed Names of Places: Pages 40-42)
            { question: "What is the new name of Burma?", options: ["Myanmar", "Cambodia", "Thailand", "Vietnam"], answer: 0, explanation: "Burma is now officially known as Myanmar.", difficulty: "easy", source_page: 40 },
            { question: "What is the new name of Ceylon?", options: ["Sri Lanka", "Maldives", "Singapore", "Indonesia"], answer: 0, explanation: "Ceylon was renamed Sri Lanka in 1972.", difficulty: "easy", source_page: 40 },
            { question: "What is the new name of Constantinople?", options: ["Ankara", "Istanbul", "Izmir", "Bursa"], answer: 1, explanation: "Constantinople is now known as Istanbul, Turkey.", difficulty: "easy", source_page: 40 },
            { question: "What is the new name of Peking?", options: ["Shanghai", "Nanjing", "Beijing", "Tianjin"], answer: 2, explanation: "Peking is the former name of Beijing, the capital of China.", difficulty: "easy", source_page: 41 },
            { question: "What is the new name of Siam?", options: ["Laos", "Cambodia", "Thailand", "Myanmar"], answer: 2, explanation: "Siam was the former name of Thailand.", difficulty: "easy", source_page: 41 },
            { question: "What is the new name of Rhodesia?", options: ["Zambia", "Malawi", "Zimbabwe", "Botswana"], answer: 2, explanation: "Rhodesia is now known as Zimbabwe.", difficulty: "medium", source_page: 41 },
            { question: "What is the new name of East Pakistan?", options: ["Pakistan", "Bangladesh", "India", "Nepal"], answer: 1, explanation: "East Pakistan became the independent country of Bangladesh in 1971.", difficulty: "medium", source_page: 40 },
            { question: "What is the new name of Zaire?", options: ["Congo Republic", "Democratic Republic of Congo", "Angola", "Zambia"], answer: 1, explanation: "Zaire is now known as the Democratic Republic of Congo.", difficulty: "medium", source_page: 42 },
            { question: "What is the new name of Madras?", options: ["Kochi", "Bengaluru", "Chennai", "Hyderabad"], answer: 2, explanation: "Madras was renamed Chennai in 1996.", difficulty: "medium", source_page: 40 },
            { question: "What is the new name of Bombay?", options: ["Delhi", "Mumbai", "Kolkata", "Pune"], answer: 1, explanation: "Bombay was renamed Mumbai in 1995.", difficulty: "medium", source_page: 40 },
            { question: "What is the new name of Calcutta?", options: ["Chennai", "Mumbai", "Kolkata", "Delhi"], answer: 2, explanation: "Calcutta was renamed Kolkata in 2001.", difficulty: "medium", source_page: 40 },
            { question: "What is the new name of Leningrad?", options: ["Moscow", "Kyiv", "Saint Petersburg", "Volgograd"], answer: 2, explanation: "Leningrad was renamed Saint Petersburg in 1991.", difficulty: "medium", source_page: 41 },
            { question: "What is the new name of Stalingrad?", options: ["Moscow", "Kyiv", "Volgograd", "Saint Petersburg"], answer: 2, explanation: "Stalingrad was renamed Volgograd in 1961.", difficulty: "medium", source_page: 41 },
            { question: "What is the new name of Gold Coast?", options: ["Nigeria", "Ghana", "Liberia", "Sierra Leone"], answer: 1, explanation: "Gold Coast became independent as Ghana in 1957.", difficulty: "medium", source_page: 40 },
            { question: "What is the new name of Upper Volta?", options: ["Niger", "Mali", "Burkina Faso", "Benin"], answer: 2, explanation: "Upper Volta was renamed Burkina Faso in 1984.", difficulty: "medium", source_page: 42 },
            { question: "What is the new name of Kampuchea?", options: ["Laos", "Vietnam", "Cambodia", "Thailand"], answer: 2, explanation: "Kampuchea is now known as Cambodia.", difficulty: "medium", source_page: 40 },
            { question: "What is the new name of Saigon?", options: ["Hanoi", "Da Nang", "Ho Chi Minh City", "Hue"], answer: 2, explanation: "Saigon was renamed Ho Chi Minh City in 1976.", difficulty: "medium", source_page: 41 },
            { question: "What is the new name of Rangoon?", options: ["Mandalay", "Yangon", "Naypyidaw", "Bagan"], answer: 1, explanation: "Rangoon is now known as Yangon, Myanmar.", difficulty: "medium", source_page: 41 },
            { question: "What is the new name of Batavia?", options: ["Kuala Lumpur", "Singapore", "Jakarta", "Manila"], answer: 2, explanation: "Batavia was the colonial name for Jakarta, Indonesia.", difficulty: "medium", source_page: 40 },
            { question: "What is the new name of Lourenço Marques?", options: ["Maputo", "Luanda", "Harare", "Pretoria"], answer: 0, explanation: "Lourenço Marques is now Maputo, the capital of Mozambique.", difficulty: "medium", source_page: 41 },
            { question: "What is the new name of Salisbury?", options: ["Lusaka", "Lilongwe", "Harare", "Gaborone"], answer: 2, explanation: "Salisbury is now known as Harare, the capital of Zimbabwe.", difficulty: "tough", source_page: 41 },
            { question: "What is the new name of British Honduras?", options: ["Belize", "Guyana", "Suriname", "Jamaica"], answer: 0, explanation: "British Honduras gained independence as Belize in 1981.", difficulty: "tough", source_page: 40 },
            { question: "What is the new name of South-West Africa?", options: ["Angola", "Botswana", "Namibia", "South Africa"], answer: 2, explanation: "South-West Africa gained independence as Namibia in 1990.", difficulty: "tough", source_page: 41 },
            { question: "What is the new name of Dahomey?", options: ["Togo", "Benin", "Ghana", "Niger"], answer: 1, explanation: "Dahomey was renamed Benin in 1975.", difficulty: "tough", source_page: 40 },
            { question: "What is the new name of French Sudan?", options: ["Mali", "Chad", "Niger", "Mauritania"], answer: 0, explanation: "French Sudan became independent as Mali in 1960.", difficulty: "tough", source_page: 40 },
            { question: "What is the new name of New Hebrides?", options: ["Fiji", "Samoa", "Vanuatu", "Tonga"], answer: 2, explanation: "New Hebrides became independent as Vanuatu in 1980.", difficulty: "tough", source_page: 41 },
            { question: "What is the new name of Formosa?", options: ["Taiwan", "Hainan", "Luzon", "Kyushu"], answer: 0, explanation: "Formosa is the historical name for Taiwan.", difficulty: "tough", source_page: 40 },
            { question: "What is the new name of Gilbert Islands?", options: ["Tuvalu", "Kiribati", "Nauru", "Marshall Islands"], answer: 1, explanation: "Gilbert Islands gained independence as Kiribati in 1979.", difficulty: "tough", source_page: 40 },
            { question: "What is the new name of Cape Kennedy?", options: ["Cape Canaveral", "Cocoa Beach", "Titusville", "Melbourne"], answer: 0, explanation: "Cape Kennedy was briefly renamed from Cape Canaveral and then reverted.", difficulty: "tough", source_page: 42 },
            { question: "What is the new name of Swaziland?", options: ["Lesotho", "Eswatini", "Botswana", "Namibia"], answer: 1, explanation: "Swaziland was renamed Eswatini in 2018.", difficulty: "tough", source_page: 42 },
            { question: "What is the new name of East Timor?", options: ["Timor-Leste", "West Timor", "Papua New Guinea", "Brunei"], answer: 0, explanation: "East Timor became independent as Timor-Leste in 2002.", difficulty: "tough", source_page: 40 },
            { question: "What is the new name of Malagasy Republic?", options: ["Mauritius", "Comoros", "Madagascar", "Seychelles"], answer: 2, explanation: "Malagasy Republic is now known as Madagascar.", difficulty: "tough", source_page: 41 },
            { question: "What is the new name of Nyasaland?", options: ["Zambia", "Malawi", "Mozambique", "Tanzania"], answer: 1, explanation: "Nyasaland became independent as Malawi in 1964.", difficulty: "tough", source_page: 41 },
            { question: "What is the new name of Northern Rhodesia?", options: ["Zimbabwe", "Zambia", "Malawi", "Botswana"], answer: 1, explanation: "Northern Rhodesia became independent as Zambia in 1964.", difficulty: "tough", source_page: 41 },
            { question: "What is the new name of Tanganyika?", options: ["Kenya", "Uganda", "Tanzania", "Rwanda"], answer: 2, explanation: "Tanganyika merged with Zanzibar to form Tanzania in 1964.", difficulty: "tough", source_page: 42 },
            { question: "What is the new name of British Guiana?", options: ["Suriname", "Guyana", "French Guiana", "Venezuela"], answer: 1, explanation: "British Guiana gained independence as Guyana in 1966.", difficulty: "tough", source_page: 40 },
            { question: "What is the new name of Dutch Guiana?", options: ["Guyana", "Suriname", "French Guiana", "Brazil"], answer: 1, explanation: "Dutch Guiana gained independence as Suriname in 1975.", difficulty: "tough", source_page: 40 },
            { question: "What is the new name of South Vietnam's capital?", options: ["Hanoi", "Da Nang", "Ho Chi Minh City", "Hue"], answer: 2, explanation: "Saigon, the capital of South Vietnam, was renamed Ho Chi Minh City.", difficulty: "medium", source_page: 41 },
            { question: "What is the new name of Christiania?", options: ["Stockholm", "Copenhagen", "Oslo", "Helsinki"], answer: 2, explanation: "Christiania was renamed Oslo in 1925.", difficulty: "tough", source_page: 42 },
            { question: "What is the new name of Ciudad Trujillo?", options: ["Santo Domingo", "Port-au-Prince", "Havana", "Kingston"], answer: 0, explanation: "Ciudad Trujillo was renamed Santo Domingo in 1961.", difficulty: "tough", source_page: 42 },
            { question: "What is the new name of Leopoldville?", options: ["Brazzaville", "Kinshasa", "Luanda", "Douala"], answer: 1, explanation: "Leopoldville was renamed Kinshasa in 1966.", difficulty: "tough", source_page: 42 },
            { question: "What is the new name of Fort Lamy?", options: ["N'Djamena", "Bangui", "Yaoundé", "Niamey"], answer: 0, explanation: "Fort Lamy was renamed N'Djamena in 1973.", difficulty: "tough", source_page: 42 },
            { question: "What is the new name of Abyssinia?", options: ["Eritrea", "Djibouti", "Ethiopia", "Somalia"], answer: 2, explanation: "Abyssinia is the former name of Ethiopia.", difficulty: "medium", source_page: 40 },
            { question: "What is the new name of Mesopotamia?", options: ["Iran", "Iraq", "Syria", "Turkey"], answer: 1, explanation: "Mesopotamia is a historical region now largely corresponding to modern-day Iraq.", difficulty: "medium", source_page: 41 },
            { question: "What is the new name of Persia?", options: ["Iraq", "Afghanistan", "Iran", "Turkey"], answer: 2, explanation: "Persia was officially renamed Iran in 1935.", difficulty: "medium", source_page: 41 },
            { question: "What is the new name of Transjordan?", options: ["Israel", "Palestine", "Jordan", "Lebanon"], answer: 2, explanation: "Transjordan became the Hashemite Kingdom of Jordan in 1949.", difficulty: "medium", source_page: 42 },
            { question: "What is the new name of Belize?", options: ["British Honduras", "French Guiana", "Guyana", "Suriname"], answer: 0, explanation: "Belize was formerly known as British Honduras.", difficulty: "medium", source_page: 40 },
            { question: "What is the new name of Ghana?", options: ["Gold Coast", "Ivory Coast", "Nigeria", "Togo"], answer: 0, explanation: "Ghana was formerly known as the Gold Coast.", difficulty: "medium", source_page: 40 },
            { question: "What is the new name of Sri Lanka?", options: ["Ceylon", "Maldives", "Singapore", "Malaysia"], answer: 0, explanation: "Sri Lanka was formerly known as Ceylon.", difficulty: "medium", source_page: 40 },
            { question: "What is the new name of Zimbabwe?", options: ["Rhodesia", "Nyasaland", "Northern Rhodesia", "Southern Rhodesia"], answer: 0, explanation: "Zimbabwe was formerly known as Rhodesia.", difficulty: "medium", source_page: 41 },
            { question: "What is the new name of Burkina Faso?", options: ["Upper Volta", "Dahomey", "Niger", "Mali"], answer: 0, explanation: "Burkina Faso was formerly known as Upper Volta.", difficulty: "medium", source_page: 42 },
            { question: "What is the new name of Cambodia?", options: ["Kampuchea", "Laos", "Vietnam", "Thailand"], answer: 0, explanation: "Cambodia was formerly known as Kampuchea.", difficulty: "medium", source_page: 40 },
            { question: "What is the new name of Myanmar?", options: ["Burma", "Siam", "Ceylon", "Indochina"], answer: 0, explanation: "Myanmar was formerly known as Burma.", difficulty: "medium", source_page: 40 },
            { question: "What is the new name of Thailand?", options: ["Siam", "Burma", "Laos", "Cambodia"], answer: 0, explanation: "Thailand was formerly known as Siam.", difficulty: "medium", source_page: 41 },
            { question: "What is the new name of Istanbul?", options: ["Constantinople", "Ankara", "Izmir", "Bursa"], answer: 0, explanation: "Istanbul was formerly known as Constantinople.", difficulty: "medium", source_page: 40 },
            { question: "What is the new name of Beijing?", options: ["Nanjing", "Peking", "Shanghai", "Tianjin"], answer: 1, explanation: "Beijing was formerly known as Peking.", difficulty: "medium", source_page: 41 },
            { question: "What is the new name of Chennai?", options: ["Bombay", "Calcutta", "Madras", "Delhi"], answer: 2, explanation: "Chennai was formerly known as Madras.", difficulty: "medium", source_page: 40 },
            { question: "What is the new name of Mumbai?", options: ["Calcutta", "Madras", "Bombay", "Delhi"], answer: 2, explanation: "Mumbai was formerly known as Bombay.", difficulty: "medium", source_page: 40 },
            { question: "What is the new name of Kolkata?", options: ["Bombay", "Madras", "Calcutta", "Delhi"], answer: 2, explanation: "Kolkata was formerly known as Calcutta.", difficulty: "medium", source_page: 40 },
            { question: "What is the new name of Saint Petersburg?", options: ["Leningrad", "Stalingrad", "Moscow", "Kyiv"], answer: 0, explanation: "Saint Petersburg was formerly known as Leningrad.", difficulty: "medium", source_page: 41 },
            { question: "What is the new name of Volgograd?", options: ["Leningrad", "Stalingrad", "Moscow", "Kyiv"], answer: 1, explanation: "Volgograd was formerly known as Stalingrad.", difficulty: "medium", source_page: 41 },
            { question: "What is the new name of Yangon?", options: ["Rangoon", "Mandalay", "Naypyidaw", "Bagan"], answer: 0, explanation: "Yangon was formerly known as Rangoon.", difficulty: "medium", source_page: 41 },
            { question: "What is the new name of Jakarta?", options: ["Batavia", "Singapore", "Kuala Lumpur", "Manila"], answer: 0, explanation: "Jakarta was formerly known as Batavia.", difficulty: "medium", source_page: 40 },
            { question: "What is the new name of Maputo?", options: ["Lourenço Marques", "Luanda", "Harare", "Pretoria"], answer: 0, explanation: "Maputo was formerly known as Lourenço Marques.", difficulty: "medium", source_page: 41 },

            // English (Punctuation: Pages 436-440)
            { question: "Which punctuation mark is used to indicate a pause or a break in a sentence?", options: ["Period", "Comma", "Semicolon", "Colon"], answer: 1, explanation: "A comma is used to indicate a slight pause or break in a sentence.", difficulty: "easy", source_page: 436 },
            { question: "Which punctuation mark is used at the end of a declarative sentence?", options: ["Question Mark", "Exclamation Mark", "Period", "Comma"], answer: 2, explanation: "A period (full stop) is used at the end of a declarative sentence.", difficulty: "easy", source_page: 436 },
            { question: "Which punctuation mark is used to ask a question?", options: ["Period", "Exclamation Mark", "Question Mark", "Comma"], answer: 2, explanation: "A question mark is used at the end of an interrogative sentence.", difficulty: "easy", source_page: 436 },
            { question: "Which punctuation mark is used to express strong emotion?", options: ["Period", "Comma", "Exclamation Mark", "Semicolon"], answer: 2, explanation: "An exclamation mark is used to show strong feelings or emphasis.", difficulty: "medium", source_page: 436 },
            { question: "Which punctuation mark is used to introduce a list?", options: ["Comma", "Semicolon", "Colon", "Dash"], answer: 2, explanation: "A colon is often used to introduce a list of items.", difficulty: "medium", source_page: 437 },
            { question: "Which punctuation mark is used to join two independent clauses without a conjunction?", options: ["Comma", "Period", "Semicolon", "Colon"], answer: 2, explanation: "A semicolon is used to connect two closely related independent clauses.", difficulty: "medium", source_page: 437 },
            { question: "Which punctuation mark is used to show possession or contraction?", options: ["Comma", "Hyphen", "Apostrophe", "Quotation Mark"], answer: 2, explanation: "An apostrophe is used to indicate possession or to show that letters are missing in a contraction.", difficulty: "medium", source_page: 438 },
            { question: "Which punctuation mark is used to enclose direct speech?", options: ["Parentheses", "Brackets", "Quotation Marks", "Dashes"], answer: 2, explanation: "Quotation marks are used to enclose direct speech.", difficulty: "medium", source_page: 438 },
            { question: "Which punctuation mark is used to set off an introductory phrase or clause?", options: ["Semicolon", "Colon", "Comma", "Period"], answer: 2, explanation: "A comma is typically used to set off an introductory phrase or clause.", difficulty: "medium", source_page: 436 },
            { question: "Which punctuation mark is used to separate items in a list of three or more?", options: ["Semicolon", "Colon", "Comma", "Dash"], answer: 2, explanation: "A comma is used to separate items in a series.", difficulty: "medium", source_page: 436 },
            { question: "Which punctuation mark is used to indicate an omission of words from a quotation?", options: ["Hyphen", "Dash", "Ellipsis", "Asterisk"], answer: 2, explanation: "An ellipsis (...) indicates that words have been omitted from a quotation.", difficulty: "medium", source_page: 439 },
            { question: "Which punctuation mark is used to introduce an explanation or a list that follows an independent clause?", options: ["Semicolon", "Comma", "Colon", "Period"], answer: 2, explanation: "A colon is used to introduce an explanation or a list after a complete sentence.", difficulty: "medium", source_page: 437 },
            { question: "Which punctuation mark is used to indicate a break in thought or to set off an explanatory phrase?", options: ["Comma", "Semicolon", "Dash", "Parentheses"], answer: 2, explanation: "A dash can be used to indicate an abrupt break in thought or to set off an explanatory phrase.", difficulty: "medium", source_page: 439 },
            { question: "Which punctuation mark is used to enclose additional information or an explanation?", options: ["Brackets", "Quotation Marks", "Parentheses", "Apostrophe"], answer: 2, explanation: "Parentheses are used to enclose supplementary or explanatory material.", difficulty: "medium", source_page: 439 },
            { question: "Which punctuation mark is used to indicate a choice or alternative?", options: ["Hyphen", "Dash", "Slash", "Colon"], answer: 2, explanation: "A slash (/) is used to indicate alternatives, such as 'and/or'.", difficulty: "medium", source_page: 440 },
            { question: "Which punctuation mark is used to indicate that something is being quoted within a quotation?", options: ["Double Quotation Marks", "Single Quotation Marks", "Apostrophe", "Brackets"], answer: 1, explanation: "Single quotation marks are used for quotes within quotes.", difficulty: "tough", source_page: 438 },
            { question: "Which punctuation mark is used to separate elements of a complex list where items themselves contain commas?", options: ["Comma", "Period", "Semicolon", "Colon"], answer: 2, explanation: "Semicolons are used to separate items in a list when the items themselves contain commas.", difficulty: "tough", source_page: 437 },
            { question: "Which punctuation mark is used to substitute for missing letters in a word, often in informal writing?", options: ["Hyphen", "Dash", "Apostrophe", "Ellipsis"], answer: 2, explanation: "An apostrophe can replace missing letters, as in 'don't' for 'do not'.", difficulty: "tough", source_page: 438 },
            { question: "Which punctuation mark is used to clarify or add information that is not essential to the meaning of the sentence?", options: ["Comma", "Semicolon", "Parentheses", "Exclamation Mark"], answer: 2, explanation: "Parentheses are used for non-essential information that clarifies or adds to the main sentence.", difficulty: "tough", source_page: 439 },
            { question: "Which punctuation mark is used to indicate a dramatic pause or a sudden change in thought?", options: ["Comma", "Semicolon", "Ellipsis", "Em Dash"], answer: 3, explanation: "An em dash (—) can indicate a strong, dramatic pause or a sudden shift in thought.", difficulty: "tough", source_page: 439 },
            { question: "Which punctuation mark is used to indicate that a word or phrase is being used ironically or in a special sense?", options: ["Apostrophe", "Quotation Marks", "Italics", "Bold"], answer: 1, explanation: "Quotation marks can be used to set off words used ironically or in a non-literal sense.", difficulty: "tough", source_page: 438 },
            { question: "Which punctuation mark is used to separate a main clause from a subordinate clause when the subordinate clause comes first?", options: ["Semicolon", "Colon", "Comma", "Period"], answer: 2, explanation: "A comma is used to separate an introductory subordinate clause from the main clause.", difficulty: "medium", source_page: 436 },
            { question: "Which punctuation mark is used to introduce an example or explanation that directly follows a statement?", options: ["Semicolon", "Comma", "Colon", "Dash"], answer: 2, explanation: "A colon is used to introduce an example or explanation that elaborates on the preceding statement.", difficulty: "medium", source_page: 437 },
            { question: "Which punctuation mark is used to show a range or connection between two things (e.g., pages 1-5)?", options: ["Comma", "Hyphen", "Dash", "Colon"], answer: 1, explanation: "A hyphen is used to connect words or parts of words, or to show a range.", difficulty: "medium", source_page: 439 },
            { question: "Which punctuation mark is used to indicate a strong, abrupt stop?", options: ["Comma", "Semicolon", "Period", "Exclamation Mark"], answer: 2, explanation: "A period indicates a full stop at the end of a sentence.", difficulty: "easy", source_page: 436 },
            { question: "Which punctuation mark is used to indicate a question at the end of a sentence?", options: ["Period", "Exclamation Mark", "Question Mark", "Comma"], answer: 2, explanation: "A question mark is used to signify an interrogative sentence.", difficulty: "easy", source_page: 436 },
            { question: "Which punctuation mark is used to show strong emotion or emphasis?", options: ["Period", "Comma", "Exclamation Mark", "Semicolon"], answer: 2, explanation: "An exclamation mark is used for strong feelings.", difficulty: "medium", source_page: 436 },
            { question: "Which punctuation mark is used to separate items in a series, especially before 'and' or 'or' in a simple list?", options: ["Semicolon", "Colon", "Comma", "Dash"], answer: 2, explanation: "A comma is used to separate items in a simple list.", difficulty: "medium", source_page: 436 },
            { question: "Which punctuation mark is used to introduce a formal list or a quotation?", options: ["Comma", "Semicolon", "Colon", "Dash"], answer: 2, explanation: "A colon is used to introduce a formal list or a quotation.", difficulty: "medium", source_page: 437 },
            { question: "Which punctuation mark is used to connect two independent clauses that are closely related in meaning?", options: ["Comma", "Period", "Semicolon", "Colon"], answer: 2, explanation: "A semicolon connects two closely related independent clauses.", difficulty: "medium", source_page: 437 },
            { question: "Which punctuation mark is used to indicate possession?", options: ["Hyphen", "Dash", "Apostrophe", "Quotation Mark"], answer: 2, explanation: "An apostrophe shows possession.", difficulty: "medium", source_page: 438 },
            { question: "Which punctuation mark is used to set off direct quotations?", options: ["Parentheses", "Brackets", "Quotation Marks", "Dashes"], answer: 2, explanation: "Quotation marks set off direct speech.", difficulty: "medium", source_page: 438 },
            { question: "Which punctuation mark is used to show a break in a sentence where there is an abrupt change of thought?", options: ["Comma", "Semicolon", "Dash", "Ellipsis"], answer: 2, explanation: "A dash indicates an abrupt change of thought.", difficulty: "medium", source_page: 439 },
            { question: "Which punctuation mark is used to enclose explanatory material that is less important than the main sentence?", options: ["Brackets", "Quotation Marks", "Parentheses", "Apostrophe"], answer: 2, explanation: "Parentheses enclose less important explanatory material.", difficulty: "medium", source_page: 439 },
            { question: "Which punctuation mark is used to indicate an alternative or choice?", options: ["Hyphen", "Dash", "Slash", "Colon"], answer: 2, explanation: "A slash indicates an alternative.", difficulty: "medium", source_page: 440 },
            { question: "Which punctuation mark is used when a word is broken at the end of a line?", options: ["Dash", "Hyphen", "Ellipsis", "Apostrophe"], answer: 1, explanation: "A hyphen is used to break a word at the end of a line.", difficulty: "medium", source_page: 439 },
            { question: "Which punctuation mark is used to introduce a long quotation that is set off as a block?", options: ["Comma", "Semicolon", "Colon", "Period"], answer: 2, explanation: "A colon can introduce a block quotation.", difficulty: "tough", source_page: 437 },
            { question: "Which punctuation mark is used to indicate a missing word or phrase in a quotation?", options: ["Hyphen", "Dash", "Ellipsis", "Apostrophe"], answer: 2, explanation: "An ellipsis indicates missing words in a quotation.", difficulty: "tough", source_page: 439 },
            { question: "Which punctuation mark is used to enclose comments or corrections within a quotation?", options: ["Parentheses", "Brackets", "Quotation Marks", "Dashes"], answer: 1, explanation: "Brackets are used to enclose comments or corrections within a quotation.", difficulty: "tough", source_page: 439 },
            { question: "Which punctuation mark is used to separate elements in an address?", options: ["Semicolon", "Colon", "Comma", "Period"], answer: 2, explanation: "Commas separate elements in an address.", difficulty: "medium", source_page: 436 },
            { question: "Which punctuation mark is used in numbers to separate thousands?", options: ["Period", "Comma", "Semicolon", "Colon"], answer: 1, explanation: "A comma is used to separate thousands in numbers.", difficulty: "medium", source_page: 436 },
            { question: "Which punctuation mark is used to separate the day and year in a date?", options: ["Comma", "Semicolon", "Colon", "Period"], answer: 0, explanation: "A comma separates the day and year in a date.", difficulty: "medium", source_page: 436 },
            { question: "Which punctuation mark is used to introduce a series of items preceded by a complete sentence?", options: ["Comma", "Semicolon", "Colon", "Dash"], answer: 2, explanation: "A colon introduces a series of items preceded by a complete sentence.", difficulty: "medium", source_page: 437 },
            { question: "Which punctuation mark is used to indicate a range of pages in a book?", options: ["Comma", "Hyphen", "Dash", "Slash"], answer: 1, explanation: "A hyphen indicates a range of pages.", difficulty: "medium", source_page: 439 },
            { question: "Which punctuation mark is used to show a break in a sentence for emphasis?", options: ["Comma", "Semicolon", "Dash", "Ellipsis"], answer: 2, explanation: "A dash can be used for emphasis.", difficulty: "medium", source_page: 439 },
            { question: "Which punctuation mark is used to indicate a question embedded within a declarative sentence?", options: ["Question Mark", "Period", "Comma", "No punctuation"], answer: 1, explanation: "A period is used at the end of a declarative sentence even if it contains an embedded question.", difficulty: "tough", source_page: 436 },
            { question: "Which punctuation mark is used to separate a city and state?", options: ["Semicolon", "Colon", "Comma", "Period"], answer: 2, explanation: "A comma separates a city and state.", difficulty: "easy", source_page: 436 },
            { question: "Which punctuation mark is used to set off an appositive phrase that is non-essential?", options: ["Semicolon", "Colon", "Comma", "Dash"], answer: 2, explanation: "Commas set off non-essential appositive phrases.", difficulty: "medium", source_page: 436 },
            { question: "Which punctuation mark is used to introduce a list when the introductory phrase is incomplete?", options: ["Comma", "Colon", "No punctuation", "Semicolon"], answer: 2, explanation: "No punctuation is needed if the introductory phrase is incomplete before a list.", difficulty: "tough", source_page: 437 },

            // Islamic Studies (Life of Prophet Muhammad (PBUH) - Birth to Prophethood: Pages 8-10)
            { question: "When was Prophet Muhammad (PBUH) born?", options: ["570 CE", "610 CE", "622 CE", "632 CE"], answer: 0, explanation: "Prophet Muhammad (PBUH) was born in 570 CE.", difficulty: "easy", source_page: 8 },
            { question: "In which city was Prophet Muhammad (PBUH) born?", options: ["Madinah", "Jerusalem", "Makkah", "Ta'if"], answer: 2, explanation: "Prophet Muhammad (PBUH) was born in Makkah.", difficulty: "easy", source_page: 8 },
            { question: "What was the name of Prophet Muhammad's (PBUH) mother?", options: ["Fatimah", "Aisha", "Aminah", "Khadijah"], answer: 2, explanation: "His mother's name was Aminah bint Wahb.", difficulty: "easy", source_page: 8 },
            { question: "What was the name of Prophet Muhammad's (PBUH) father?", options: ["Abu Talib", "Abdullah", "Abdul Muttalib", "Abu Bakr"], answer: 1, explanation: "His father's name was Abdullah ibn Abd al-Muttalib.", difficulty: "easy", source_page: 8 },
            { question: "Who was Prophet Muhammad's (PBUH) grandfather who took care of him after his mother's death?", options: ["Abu Talib", "Abu Lahab", "Abdul Muttalib", "Umayyah"], answer: 2, explanation: "His grandfather, Abdul Muttalib, took care of him after his mother's death.", difficulty: "medium", source_page: 9 },
            { question: "Who was Prophet Muhammad's (PBUH) wet nurse?", options: ["Khadijah", "Halimah Sa'diyah", "Fatimah", "Aisha"], answer: 1, explanation: "Halimah Sa'diyah was his wet nurse.", difficulty: "medium", source_page: 8 },
            { question: "At what age did Prophet Muhammad (PBUH) receive his first revelation?", options: ["25 years old", "30 years old", "35 years old", "40 years old"], answer: 3, explanation: "He received his first revelation at the age of 40.", difficulty: "medium", source_page: 9 },
            { question: "What was the name of the cave where Prophet Muhammad (PBUH) received his first revelation?", options: ["Cave of Thawr", "Cave of Hira", "Cave of Uhud", "Cave of Quba"], answer: 1, explanation: "The first revelation occurred in the Cave of Hira.", difficulty: "medium", source_page: 9 },
            { question: "What was the first word of the Quran revealed to Prophet Muhammad (PBUH)?", options: ["Alhamdulillah", "Bismillah", "Iqra", "Subhanallah"], answer: 2, explanation: "The first word revealed was 'Iqra' (Read).", difficulty: "medium", source_page: 9 },
            { question: "Who was the angel who brought the first revelation to Prophet Muhammad (PBUH)?", options: ["Mika'il", "Israfil", "Jibreel", "Azra'il"], answer: 2, explanation: "Angel Jibreel (Gabriel) brought the first revelation.", difficulty: "medium", source_page: 9 },
            { question: "What was the profession of Prophet Muhammad (PBUH) before prophethood?", options: ["Fisherman", "Farmer", "Trader", "Blacksmith"], answer: 2, explanation: "Before prophethood, he worked as a trader and shepherd.", difficulty: "medium", source_page: 9 },
            { question: "Who was the first wife of Prophet Muhammad (PBUH)?", options: ["Aisha", "Fatimah", "Khadijah bint Khuwaylid", "Sawdah"], answer: 2, explanation: "His first wife was Khadijah bint Khuwaylid.", difficulty: "medium", source_page: 9 },
            { question: "What was the name of Prophet Muhammad's (PBUH) uncle who protected him?", options: ["Abu Lahab", "Abu Bakr", "Abu Talib", "Umar"], answer: 2, explanation: "His uncle, Abu Talib, protected him.", difficulty: "medium", source_page: 9 },
            { question: "What was the name of the year in which Prophet Muhammad (PBUH) was born?", options: ["Year of the Elephant", "Year of Migration", "Year of Conquest", "Year of Sorrows"], answer: 0, explanation: "He was born in the Year of the Elephant.", difficulty: "medium", source_page: 8 },
            { question: "What was the name of the tribe to which Prophet Muhammad (PBUH) belonged?", options: ["Banu Hashim", "Banu Umayyah", "Quraish", "Banu Khazraj"], answer: 2, explanation: "He belonged to the Quraish tribe.", difficulty: "medium", source_page: 8 },
            { question: "What was the age of Prophet Muhammad (PBUH) when his mother passed away?", options: ["4 years old", "6 years old", "8 years old", "10 years old"], answer: 1, explanation: "His mother passed away when he was 6 years old.", difficulty: "tough", source_page: 8 },
            { question: "How old was Prophet Muhammad (PBUH) when his grandfather, Abdul Muttalib, passed away?", options: ["6 years old", "7 years old", "8 years old", "9 years old"], answer: 2, explanation: "His grandfather passed away when he was 8 years old.", difficulty: "tough", source_page: 9 },
            { question: "What was the title given to Prophet Muhammad (PBUH) by the people of Makkah before prophethood, signifying his trustworthiness?", options: ["Al-Sadiq", "Al-Amin", "Al-Faruq", "Al-Ghani"], answer: 1, explanation: "He was known as Al-Amin (The Trustworthy).", difficulty: "tough", source_page: 9 },
            { question: "What was the name of the first person to accept Islam?", options: ["Abu Bakr", "Ali ibn Abi Talib", "Khadijah bint Khuwaylid", "Zayd ibn Harithah"], answer: 2, explanation: "Khadijah (RA) was the first person to accept Islam.", difficulty: "tough", source_page: 10 },
            { question: "What was the significance of the 'Year of the Elephant'?", options: ["Birth of Prophet Muhammad (PBUH)", "Attempt to destroy Kaaba", "First revelation", "Migration to Madinah"], answer: 1, explanation: "It was the year Abraha attempted to destroy the Kaaba.", difficulty: "tough", source_page: 8 },
            { question: "What was the name of the person who accompanied Prophet Muhammad (PBUH) on his journey to Syria for trade on behalf of Khadijah?", options: ["Abu Talib", "Maysarah", "Zayd ibn Harithah", "Abu Bakr"], answer: 1, explanation: "Maysarah, Khadijah's servant, accompanied him on the trade journey.", difficulty: "tough", source_page: 9 },
            { question: "What was the name of the monk who recognized signs of prophethood in young Muhammad (PBUH) during a trade journey?", options: ["Waraqa ibn Nawfal", "Bahira", "Nestorius", "Sergius"], answer: 1, explanation: "The monk Bahira recognized signs of prophethood in him.", difficulty: "tough", source_page: 9 },
            { question: "What was the age of Prophet Muhammad (PBUH) when he married Khadijah (RA)?", options: ["20 years old", "25 years old", "30 years old", "35 years old"], answer: 1, explanation: "He married Khadijah (RA) when he was 25 years old.", difficulty: "tough", source_page: 9 },
            { question: "What was the name of the mountain where the Cave of Hira is located?", options: ["Jabal Thawr", "Jabal Uhud", "Jabal al-Nour", "Jabal Rahmah"], answer: 2, explanation: "The Cave of Hira is located on Jabal al-Nour (Mountain of Light).", difficulty: "tough", source_page: 9 },
            { question: "What was the name of the first child of Prophet Muhammad (PBUH) and Khadijah (RA)?", options: ["Fatimah", "Zaynab", "Qasim", "Abdullah"], answer: 2, explanation: "Their first child was Qasim.", difficulty: "tough", source_page: 10 },
            { question: "How many daughters did Prophet Muhammad (PBUH) and Khadijah (RA) have?", options: ["Two", "Three", "Four", "Five"], answer: 2, explanation: "They had four daughters: Zaynab, Ruqayyah, Umm Kulthum, and Fatimah.", difficulty: "tough", source_page: 10 },
            { question: "What was the name of the first male child of Prophet Muhammad (PBUH) who passed away in infancy?", options: ["Ibrahim", "Qasim", "Abdullah", "Ali"], answer: 1, explanation: "Qasim was his first male child who passed away in infancy.", difficulty: "medium", source_page: 10 },
            { question: "What was the name of the second male child of Prophet Muhammad (PBUH) who passed away in infancy?", options: ["Ibrahim", "Qasim", "Abdullah", "Ali"], answer: 2, explanation: "Abdullah was his second male child who passed away in infancy.", difficulty: "medium", source_page: 10 },
            { question: "What was the state of Makkah before the advent of Islam, regarding idol worship?", options: ["Monotheistic", "Polytheistic", "Atheistic", "Agnostic"], answer: 1, explanation: "Makkah was predominantly polytheistic, with idols around the Kaaba.", difficulty: "medium", source_page: 8 },
            { question: "What was the name of the leader of the army of elephants who attempted to destroy the Kaaba?", options: ["Abraha", "Namrud", "Pharaoh", "Goliath"], answer: 0, explanation: "Abraha led the army of elephants.", difficulty: "medium", source_page: 8 },
            { question: "What was the name of the uncle who raised Prophet Muhammad (PBUH) after his grandfather's death?", options: ["Abu Lahab", "Abu Bakr", "Abu Talib", "Umar"], answer: 2, explanation: "Abu Talib raised him after his grandfather's death.", difficulty: "medium", source_page: 9 },
            { question: "What was the common practice of Prophet Muhammad (PBUH) in the Cave of Hira before prophethood?", options: ["Trading", "Meditating", "Writing", "Teaching"], answer: 1, explanation: "He used to meditate in the Cave of Hira.", difficulty: "medium", source_page: 9 },
            { question: "What was the age of Prophet Muhammad (PBUH) when his father passed away?", options: ["Before birth", "1 year old", "2 years old", "3 years old"], answer: 0, explanation: "His father passed away before his birth.", difficulty: "easy", source_page: 8 },
            { question: "What was the name of Prophet Muhammad's (PBUH) foster mother?", options: ["Aminah", "Khadijah", "Halimah", "Aisha"], answer: 2, explanation: "Halimah Sa'diyah was his foster mother.", difficulty: "easy", source_page: 8 },
            { question: "What was the first pillar of Islam revealed to Prophet Muhammad (PBUH)?", options: ["Salat (Prayer)", "Zakat (Charity)", "Shahada (Declaration of Faith)", "Sawm (Fasting)"], answer: 2, explanation: "The declaration of faith (Shahada) is fundamental and was part of the early message.", difficulty: "tough", source_page: 10 },
            { question: "What was the general moral condition of Arab society before Islam?", options: ["Highly ethical", "Just and fair", "Marked by tribalism and immorality", "Peaceful and harmonious"], answer: 2, explanation: "Arab society before Islam was characterized by tribalism, idol worship, and various immoral practices.", difficulty: "medium", source_page: 8 },
            { question: "What was the name of the market in Makkah famous for poetry competitions and trade?", options: ["Souk Okaz", "Souk al-Majaz", "Souk Dhu al-Majaz", "Souk al-Mirbad"], answer: 0, explanation: "Souk Okaz was a famous market for trade and poetry.", difficulty: "tough", source_page: 8 },
            { question: "What was the name of the first revelation that commanded Prophet Muhammad (PBUH) to 'read'?", options: ["Surah Al-Fatiha", "Surah Al-Ikhlas", "Surah Al-Alaq", "Surah Al-Nasr"], answer: 2, explanation: "The first verses revealed were from Surah Al-Alaq.", difficulty: "tough", source_page: 9 },
            { question: "What was the name of the pact made by Prophet Muhammad (PBUH) in his youth to protect the oppressed?", options: ["Hilf al-Fudul", "Pact of Madinah", "Treaty of Hudaybiyyah", "Oath of Allegiance"], answer: 0, explanation: "Hilf al-Fudul was a pact to uphold justice.", difficulty: "tough", source_page: 9 },
            { question: "What was the primary message of Prophet Muhammad (PBUH) during the early days of prophethood?", options: ["Social reform", "Political power", "Monotheism and submission to Allah", "Economic prosperity"], answer: 2, explanation: "The primary message was the oneness of Allah (Tawhid) and submission to Him.", difficulty: "tough", source_page: 10 }
        ];

        // Shuffle questions and assign "special question"
        let quizQuestions = [];
        let specialQuestionIndex = -1;

        function shuffleArray(array) {
            for (let i = array.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [array[i], array[j]] = [array[j], array[i]];
            }
            return array;
        }

        function initializeQuizQuestions() {
            // Create a copy to work with
            let tempQuestions = [...allQuizQuestions];
            tempQuestions = shuffleArray(tempQuestions); // Shuffle the entire pool first

            const easyQuestions = [];
            const mediumQuestions = [];
            const toughQuestions = [];

            // Distribute questions based on their 'difficulty' property
            tempQuestions.forEach(q => {
                if (q.difficulty === 'easy' && easyQuestions.length < 10) {
                    easyQuestions.push(q);
                } else if (q.difficulty === 'medium' && mediumQuestions.length < 50) {
                    mediumQuestions.push(q);
                } else if (q.difficulty === 'tough' && toughQuestions.length < 40) {
                    toughQuestions.push(q);
                }
            });

            // If any category is short, fill from other categories, prioritizing the specified counts
            let remainingQuestions = tempQuestions.filter(q =>
                !easyQuestions.includes(q) && !mediumQuestions.includes(q) && !toughQuestions.includes(q)
            );
            remainingQuestions = shuffleArray(remainingQuestions);

            while (easyQuestions.length < 10 && remainingQuestions.length > 0) {
                easyQuestions.push(remainingQuestions.pop());
            }
            while (mediumQuestions.length < 50 && remainingQuestions.length > 0) {
                mediumQuestions.push(remainingQuestions.pop());
            }
            while (toughQuestions.length < 40 && remainingQuestions.length > 0) {
                toughQuestions.push(remainingQuestions.pop());
            }

            // Combine and shuffle the final set of 100 questions
            quizQuestions = shuffleArray([...easyQuestions, ...mediumQuestions, ...toughQuestions]);

            // Ensure exactly 100 questions (trim if necessary, though with 100 in pool, it should be exact)
            quizQuestions = quizQuestions.slice(0, 100);

            if (quizQuestions.length !== 100) {
                showModal("Error: Could not generate exactly 100 unique questions. Please refresh.", "alert");
                return;
            }

            // Randomly select one "Today's Special Question" if it's the current date
            const today = new Date();
            const quizDate = new Date(today.getFullYear(), today.getMonth(), today.getDate()); // Normalize to start of day
            const storedQuizDate = localStorage.getItem('quiz_date');

            if (!storedQuizDate || new Date(storedQuizDate).toDateString() !== quizDate.toDateString()) {
                // New day or no stored date, generate new special question and store date
                specialQuestionIndex = Math.floor(Math.random() * quizQuestions.length);
                localStorage.setItem('special_question_index', specialQuestionIndex);
                localStorage.setItem('quiz_date', quizDate.toISOString());
            } else {
                // Same day, retrieve stored special question
                specialQuestionIndex = parseInt(localStorage.getItem('special_question_index'));
            }

            // Mark the special question
            if (quizQuestions[specialQuestionIndex]) {
                quizQuestions[specialQuestionIndex].isSpecial = true;
            }
        }


        // DOM Elements
        const loginPage = document.getElementById('login-page');
        const candidateInfoPage = document.getElementById('candidate-info-page');
        const quizPage = document.getElementById('quiz-page');
        const resultsPage = document.getElementById('results-page');

        const loginButton = document.getElementById('login-button');
        const usernameInput = document.getElementById('username');
        const passwordInput = document.getElementById('password');
        const loginError = document.getElementById('login-error');

        const fullNameInput = document.getElementById('full-name');
        const startQuizButton = document.getElementById('start-quiz-button');
        const nameError = document.getElementById('name-error');

        const liveDateSpan = document.querySelector('#live-date span');
        const quizDateTitleSpan = document.getElementById('quiz-date-title');
        const updatedDateSpan = document.getElementById('updated-date');
        const timerSpan = document.getElementById('timer');
        const progressBar = document.getElementById('progress-bar');
        const progressText = document.getElementById('progress-text');

        const questionNumberSpan = document.getElementById('question-number');
        const questionTextSpan = document.getElementById('question-text');
        const optionsContainer = document.getElementById('options-container');
        const explanationContainer = document.getElementById('explanation-container');
        const explanationText = document.getElementById('explanation-text');
        const questionCard = document.getElementById('question-card');

        const prevButton = document.getElementById('prev-button');
        const nextButton = document.getElementById('next-button');

        const resultNameSpan = document.getElementById('result-name');
        const resultScoreSpan = document.getElementById('result-score');
        const resultTimeSpan = document.getElementById('result-time');
        const resultAttemptedSpan = document.getElementById('result-attempted');
        const retakeQuizButton = document.getElementById('retake-quiz-button');

        // Functions
        function updateLiveDate() {
            const now = new Date();
            const options = { weekday: 'long', year: 'numeric', month: 'long', day: 'numeric' };
            const formattedDate = now.toLocaleDateString('en-US', options);
            liveDateSpan.textContent = formattedDate;
            quizDateTitleSpan.textContent = formattedDate;
            updatedDateSpan.textContent = formattedDate;
        }

        function startTimer() {
            quizStartTime = Date.now();
            timerInterval = setInterval(() => {
                timeElapsed++;
                const remainingSeconds = quizDuration - timeElapsed;

                if (remainingSeconds <= 0) {
                    clearInterval(timerInterval);
                    timerSpan.textContent = "00:00";
                    if (!quizCompleted) {
                        showModal("Time's up! Your quiz will be submitted.", "alert", submitQuiz);
                    }
                } else {
                    const minutes = Math.floor(remainingSeconds / 60);
                    const seconds = remainingSeconds % 60;
                    timerSpan.textContent = `${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
                }
            }, 1000);
        }

        function updateProgressBar() {
            const progress = (currentQuestionIndex / quizQuestions.length) * 100;
            progressBar.style.width = `${progress}%`;
            progressText.textContent = `${Math.round(progress)}%`;
        }

        function loadQuestion(index) {
            if (index >= 0 && index < quizQuestions.length) {
                currentQuestionIndex = index;
                const question = quizQuestions[currentQuestionIndex];

                // Update question card styling for special question
                questionCard.style.border = question.isSpecial && isCurrentDate() ? '4px solid #FFD700' : '1px solid #FFF5EE';

                questionNumberSpan.textContent = currentQuestionIndex + 1;
                questionTextSpan.textContent = question.question;
                optionsContainer.innerHTML = ''; // Clear previous options
                explanationContainer.classList.add('hidden'); // Hide explanation by default
                explanationText.textContent = '';

                // Shuffle options for the current question
                const shuffledOptions = shuffleArray([...question.options]);
                question.shuffledOptions = shuffledOptions; // Store shuffled order

                shuffledOptions.forEach((option, i) => {
                    const optionDiv = document.createElement('div');
                    optionDiv.classList.add('option-card', 'p-3', 'rounded-lg', 'shadow-md', 'cursor-pointer', 'bg-white', 'hover:bg-gray-50', 'text-primary', 'font-medium', 'border', 'border-gray-200');
                    optionDiv.textContent = option;
                    optionDiv.dataset.optionIndex = question.options.indexOf(option); // Store original index
                    optionDiv.addEventListener('click', () => selectOption(optionDiv, question.answer));
                    optionsContainer.appendChild(optionDiv);

                    // Restore previous selection if exists
                    if (userAnswers[currentQuestionIndex] !== undefined && userAnswers[currentQuestionIndex] == optionDiv.dataset.optionIndex) {
                        optionDiv.classList.add('bg-blue-200', 'border-blue-500'); // Highlight selected
                    }
                });

                updateNavigationButtons();
                updateProgressBar();
            }
        }

        function selectOption(selectedDiv, correctAnswerOriginalIndex) {
            // Prevent multiple selections for the same question
            if (userAnswers[currentQuestionIndex] !== undefined) {
                return;
            }

            const selectedOptionOriginalIndex = parseInt(selectedDiv.dataset.optionIndex);
            userAnswers[currentQuestionIndex] = selectedOptionOriginalIndex; // Store the selected answer

            questionsAttempted++; // Increment attempted count

            // Disable all options after selection
            Array.from(optionsContainer.children).forEach(option => {
                option.style.pointerEvents = 'none';
                option.classList.remove('hover:bg-gray-50'); // Remove hover effect
                option.classList.remove('hover:scale-105'); // Remove hover scale
            });

            // Check answer and apply effects
            if (selectedOptionOriginalIndex === correctAnswerOriginalIndex) {
                selectedDiv.classList.add('pulse-green', 'bg-green-200', 'border-green-500');
                score++;
            } else {
                selectedDiv.classList.add('shake-red', 'bg-red-200', 'border-red-500');
                // Highlight correct answer
                Array.from(optionsContainer.children).forEach(option => {
                    if (parseInt(option.dataset.optionIndex) === correctAnswerOriginalIndex) {
                        option.classList.add('bg-green-200', 'border-green-500');
                    }
                });
            }

            // Show explanation
            explanationText.textContent = quizQuestions[currentQuestionIndex].explanation;
            explanationContainer.classList.remove('hidden');
        }

        function updateNavigationButtons() {
            prevButton.disabled = currentQuestionIndex === 0;
            prevButton.classList.toggle('opacity-50', currentQuestionIndex === 0);
            prevButton.classList.toggle('cursor-not-allowed', currentQuestionIndex === 0);
            prevButton.classList.toggle('cursor-pointer', currentQuestionIndex !== 0);

            if (currentQuestionIndex === quizQuestions.length - 1) {
                nextButton.textContent = 'Submit Quiz';
            } else {
                nextButton.textContent = 'Next';
            }
        }

        function navigateQuestions(direction) {
            if (direction === 'next') {
                if (currentQuestionIndex < quizQuestions.length - 1) {
                    currentQuestionIndex++;
                    loadQuestion(currentQuestionIndex);
                } else {
                    // Last question, submit quiz
                    if (!quizCompleted) {
                        showModal("Are you sure you want to submit the quiz?", "confirm", (confirmed) => {
                            if (confirmed) {
                                submitQuiz();
                            }
                        });
                    }
                }
            } else if (direction === 'prev') {
                if (currentQuestionIndex > 0) {
                    currentQuestionIndex--;
                    loadQuestion(currentQuestionIndex);
                }
            }
        }

        function submitQuiz() {
            quizCompleted = true;
            clearInterval(timerInterval); // Stop the timer

            // Calculate final time taken
            const finalTimeSeconds = timeElapsed;
            const finalMinutes = Math.floor(finalTimeSeconds / 60);
            const finalSeconds = finalTimeSeconds % 60;
            const formattedFinalTime = `${finalMinutes.toString().padStart(2, '0')}:${finalSeconds.toString().padStart(2, '0')}`;

            // Display results
            resultNameSpan.textContent = userName;
            resultScoreSpan.textContent = score;
            resultTimeSpan.textContent = formattedFinalTime;
            resultAttemptedSpan.textContent = questionsAttempted;

            quizPage.classList.add('hidden');
            resultsPage.classList.remove('hidden');

            // Auto-submit to Formspree
            const formData = new FormData();
            formData.append('Full Name', userName);
            formData.append('Total Score', `${score} / 100`);
            formData.append('Time Taken', formattedFinalTime);
            formData.append('Questions Attempted', questionsAttempted);

            fetch('https://formspree.io/f/xwpvddea', {
                method: 'POST',
                body: formData,
                headers: {
                    'Accept': 'application/json'
                }
            }).then(response => {
                if (response.ok) {
                    console.log('Quiz results submitted successfully!');
                } else {
                    console.error('Failed to submit quiz results.');
                }
            }).catch(error => {
                console.error('Error submitting quiz results:', error);
            });
        }

        function resetQuiz() {
            currentQuestionIndex = 0;
            score = 0;
            questionsAttempted = 0;
            timeElapsed = 0;
            userName = '';
            quizCompleted = false;
            Object.keys(userAnswers).forEach(key => delete userAnswers[key]); // Clear answers
            clearInterval(timerInterval);
            timerSpan.textContent = "40:00"; // Reset timer display
            progressBar.style.width = '0%';
            progressText.textContent = '0%';
            loginPage.classList.remove('hidden');
            resultsPage.classList.add('hidden');
            candidateInfoPage.classList.add('hidden');
            quizPage.classList.add('hidden');
            usernameInput.value = '';
            passwordInput.value = '';
            fullNameInput.value = '';
            loginError.classList.add('hidden');
            nameError.classList.add('hidden');
            initializeQuizQuestions(); // Re-initialize questions for a new session
        }

        function isCurrentDate() {
            const today = new Date();
            const quizDate = new Date(today.getFullYear(), today.getMonth(), today.getDate());
            const storedQuizDate = localStorage.getItem('quiz_date');
            return storedQuizDate && new Date(storedQuizDate).toDateString() === quizDate.toDateString();
        }

        // Event Listeners
        loginButton.addEventListener('click', () => {
            const username = usernameInput.value;
            const password = passwordInput.value;

            // Updated login credentials for June 01
            if (username === '1JUNE' && password === 'free') {
                loginPage.classList.add('hidden');
                candidateInfoPage.classList.remove('hidden');
                loginError.classList.add('hidden');
            } else {
                loginError.classList.remove('hidden');
            }
        });

        startQuizButton.addEventListener('click', () => {
            const enteredName = fullNameInput.value.trim();
            if (enteredName) {
                userName = enteredName;
                candidateInfoPage.classList.add('hidden');
                quizPage.classList.remove('hidden');
                nameError.classList.add('hidden');
                startTimer();
                loadQuestion(currentQuestionIndex);
            } else {
                nameError.classList.remove('hidden');
            }
        });

        nextButton.addEventListener('click', () => navigateQuestions('next'));
        prevButton.addEventListener('click', () => navigateQuestions('prev'));
        retakeQuizButton.addEventListener('click', resetQuiz);

        // Initialize on page load
        document.addEventListener('DOMContentLoaded', () => {
            updateLiveDate();
            initializeQuizQuestions(); // Generate and shuffle questions once
        });

        // Handle mobile sticky date position
        window.addEventListener('resize', () => {
            const liveDateElement = document.getElementById('live-date');
            if (window.innerWidth < 768) {
                liveDateElement.classList.remove('justify-end');
                liveDateElement.classList.add('justify-start');
            } else {
                liveDateElement.classList.remove('justify-start');
                liveDateElement.classList.add('justify-end');
            }
        });
        // Initial call to set correct sticky date position on load
        window.dispatchEvent(new Event('resize'));

    </script>
</body>
</html>
